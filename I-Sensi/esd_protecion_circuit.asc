Version 4
SHEET 1 1276 2564
WIRE -496 720 -624 720
WIRE -400 720 -496 720
WIRE 80 720 -320 720
WIRE -624 784 -624 720
WIRE -496 784 -496 720
WIRE 416 816 208 816
WIRE 544 816 480 816
WIRE 784 816 544 816
WIRE 1024 816 784 816
WIRE -336 864 -336 768
WIRE -624 912 -624 864
WIRE -496 912 -496 864
WIRE 544 912 544 816
WIRE 784 912 784 816
WIRE -624 1040 -624 976
WIRE -496 1040 -496 976
WIRE 544 1072 544 976
WIRE 784 1072 784 976
WIRE -624 1152 -624 1104
WIRE -560 1152 -624 1152
WIRE -496 1152 -496 1104
WIRE -496 1152 -560 1152
WIRE -384 1152 -384 768
WIRE -384 1152 -496 1152
WIRE -336 1152 -336 944
WIRE -336 1152 -384 1152
WIRE -560 1200 -560 1152
WIRE 912 1424 768 1424
WIRE -96 1456 -384 1456
WIRE -384 1504 -384 1456
WIRE 768 1504 768 1424
WIRE -560 1600 -736 1600
WIRE -448 1600 -496 1600
WIRE -384 1600 -384 1568
WIRE -384 1600 -448 1600
WIRE -240 1600 -384 1600
WIRE -96 1600 -96 1456
WIRE 576 1616 432 1616
WIRE 768 1616 768 1568
WIRE 768 1616 640 1616
WIRE 1024 1616 768 1616
WIRE -384 1632 -384 1600
WIRE -240 1632 -240 1600
WIRE 768 1664 768 1616
WIRE -384 1760 -384 1696
WIRE -240 1760 -240 1696
WIRE -240 1760 -384 1760
WIRE -96 1760 -96 1680
WIRE -96 1760 -240 1760
WIRE 768 1824 768 1728
WIRE -592 2224 -592 2112
WIRE -256 2224 -256 2112
WIRE -592 2416 -592 2304
WIRE -256 2416 -256 2304
FLAG -560 1200 0
FLAG 80 720 ESD
IOPIN 80 720 Out
FLAG -736 1600 GPIO_PIN
IOPIN -736 1600 In
FLAG -448 1600 GPIO
FLAG -240 1760 0
FLAG 784 1072 0
FLAG 208 816 ESD
IOPIN 208 816 In
FLAG 1024 816 SCHOTTKY_CLAMP
IOPIN 1024 816 Out
FLAG 544 1072 0
FLAG -592 2416 0
FLAG -256 2416 0
FLAG -96 1456 VCC
IOPIN -96 1456 BiDir
FLAG 768 1824 0
FLAG 432 1616 SCHOTTKY_CLAMP
IOPIN 432 1616 In
FLAG 912 1424 VCC
IOPIN 912 1424 BiDir
FLAG 1024 1616 GPIO_PIN
IOPIN 1024 1616 Out
FLAG -592 2112 ESD
IOPIN -592 2112 Out
SYMBOL cap -640 1040 R0
WINDOW 39 24 78 Left 2
SYMATTR SpiceLine IC=4k
SYMATTR InstName C1
SYMATTR Value 150p
SYMBOL cap -512 1040 R0
WINDOW 39 24 78 Left 2
SYMATTR SpiceLine ic=4k
SYMATTR InstName C2
SYMATTR Value 8p
SYMBOL r -624 912 R90
SYMATTR InstName R4
SYMATTR Value 330
SYMBOL r -496 912 R90
SYMATTR InstName R2
SYMATTR Value 200
SYMBOL ind2 -640 768 R0
SYMATTR InstName L1
SYMATTR Value 2.4µ
SYMATTR Type ind
SYMBOL ind2 -512 768 R0
SYMATTR InstName L2
SYMATTR Value 140n
SYMATTR Type ind
SYMBOL sw -416 720 R270
SYMATTR InstName S1
SYMBOL voltage -336 848 R0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 1n 1p 1p 1 0 1)
SYMBOL diode -368 1568 R180
WINDOW 0 40 44 Left 2
WINDOW 3 39 20 Left 2
SYMATTR InstName D2
SYMBOL diode -368 1696 R180
WINDOW 0 40 44 Left 2
WINDOW 3 39 20 Left 2
SYMATTR InstName D3
SYMBOL r -240 1632 R90
SYMATTR InstName R5
SYMATTR Value 20Meg
SYMBOL voltage -96 1584 R0
WINDOW 39 24 118 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL r -496 1600 R180
SYMATTR InstName R6
SYMATTR Value 50m
SYMBOL diode 800 976 R180
WINDOW 0 40 44 Left 2
WINDOW 3 39 20 Left 2
SYMATTR InstName X1
SYMATTR Value PTVS3V3S1UR
SYMATTR Prefix X
SYMBOL FerriteBead 448 816 R90
WINDOW 0 -16 0 VBottom 2
SYMATTR InstName L3
SYMATTR Value 1.8µ
SYMATTR SpiceLine Ipk=200m Rser=704.94m Rpar=1.05K Cpar=590f mfg="Würth Elektronik" pn="782422102 WE-CBA 0402"
SYMBOL cap 528 912 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=.1
SYMBOL voltage -592 2208 R0
WINDOW 39 24 118 Left 2
SYMATTR SpiceLine Rser=50m
SYMATTR InstName V1
SYMATTR Value SINE()
SYMATTR Value2 AC 1
SYMBOL voltage -256 2208 R0
WINDOW 3 -108 233 Left 2
SYMATTR Value PULSE(0 5 100m 100m 100m 1 1 1)
SYMATTR InstName V4
SYMBOL schottky 784 1568 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5817
SYMBOL schottky 784 1728 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N5817
SYMBOL r 576 1616 R0
SYMATTR InstName R1
SYMATTR Value 100
TEXT -240 544 Left 2 ;.tran 0 200n 0 20n
TEXT -600 688 Left 2 !.model sw sw()
TEXT -312 1224 Left 2 ;ESD IEC61000 MODEL DISCHARGE
TEXT -144 1880 Left 2 ;GPIO INPUT MODEL
TEXT 736 1224 Left 2 ;ESD PROTECION CIRCUIT
TEXT -232 496 Left 2 ;VIDEO AULA SOBRE O TEMA:\nhttps://www.microtype.io/esd-protection-circuit/
TEXT -240 456 Left 2 ;COMENTARIOS E COMANDOS
TEXT -1432 632 Left 2 !*\n*******************************************\n*\n*PTVS3V3S1UR\n*\n*NXP Semiconductors\n*\n*400 W Transient Voltage Suppressor\n*  \n*VCL  = 8V      @ IPPM = 43,8A\n*VBR  = 6V      @ IR   = 10mA\n*IRM  = 5µA     @ VRWM = 3,3V\n*\n*\n*\n*\n*\n*\n*\n*\n*\n*\n*\n*\n*Package pinning does not match Spice model pinning.\n*Package: SOD123W\n*\n*Package Pin 1: cathode\n*Package Pin 2: anode\n*\n*\n*\n*\n*Simulator: SPICE2\n*\n*******************************************\n*#\n.SUBCKT PTVS3V3S1UR 1 2 \n*\n* The resistor R1 does not reflect \n* a physical device. Instead it\n* improves modeling in the reverse \n* mode of operation.\n*\nD1 1 2 PTVS3V3S1UR\nR1 1 2 2.805E+8\n*\n.MODEL PTVS3V3S1UR D \n+ IS = 1.396E-14 \n+ N = 1.001 \n+ BV = 5.6 \n+ IBV = 0.01 \n+ RS = 0.007 \n+ CJO = 3.35E-9 \n+ VJ = 0.8789 \n+ M = 0.3808 \n+ FC = 0.5 \n.ENDS\n*
TEXT -568 2144 Left 2 !.ac dec 1k 0.01 10g\n.net I(R5) V1
TEXT -208 2144 Left 2 ;.tran 0 5 0 100u
TEXT -120 2536 Left 2 ;TEST VOLTAGES
TEXT 720 1880 Left 2 ;SCHOTTKY CLAMP CIRCUIT
RECTANGLE Normal -736 644 68 1248 2
RECTANGLE Normal -736 1300 68 1904 2
RECTANGLE Normal 208 644 1012 1248 2
RECTANGLE Normal -252 436 316 564 2
RECTANGLE Normal -736 1956 68 2560 2
RECTANGLE Normal 208 1300 1012 1904 2
